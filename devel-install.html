<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Apr 19, 2011 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>DHBW Calendar - Installation Guide</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
      <meta name="author" content="Yves Fischer" />
    <meta name="Date-Revision-yyyymmdd" content="20110419" />
    <meta http-equiv="Content-Language" content="en" />
        
  </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                DHBW Calendar
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2011-04-19</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0-SNAPSHOT</span>
                      </div>
            <div class="xright">        
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Allgemein</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Start">Start</a>
            </li>
                  <li class="none">
                          <a href="dokumentation.html" title="Dokumentation">Dokumentation</a>
            </li>
                  <li class="none">
                          <a href="license.html" title="Lizenzierung">Lizenzierung</a>
            </li>
          </ul>
                       <h5>User Guide</h5>
                  <ul>
                  <li class="none">
                          <a href="user-allgemein.html" title="Allgemein">Allgemein</a>
            </li>
                  <li class="none">
                          <a href="user-google.html" title="Google Kalender">Google Kalender</a>
            </li>
                  <li class="none">
                          <a href="user-emacs.html" title="Emacs Diary">Emacs Diary</a>
            </li>
                  <li class="none">
                          <a href="user-apple.html" title="iPhone">iPhone</a>
            </li>
                  <li class="none">
                          <a href="user-lightning.html" title="Mozilla Lightning">Mozilla Lightning</a>
            </li>
                  <li class="none">
                          <a href="user-windows.html" title="Microsoft Tools">Microsoft Tools</a>
            </li>
          </ul>
                       <h5>Entwickler</h5>
                  <ul>
                  <li class="none">
            <strong>Install</strong>
          </li>
                  <li class="none">
                          <a href="project-reports.html" title="Reports/API">Reports/API</a>
            </li>
                  <li class="none">
                          <a href="devel-hacking.html" title="Hacking">Hacking</a>
            </li>
                  <li class="none">
                          <a href="dependencies.html" title="Dependencies">Dependencies</a>
            </li>
                  <li class="none">
                          <a href="source-repository.html" title="Source Repository">Source Repository</a>
            </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Installation<a name="Installation"></a></h2><div class="section"><h3>Mit Embedded Servlet Container<a name="Mit_Embedded_Servlet_Container"></a></h3><p><tt>mvn jetty:run</tt></p><p>Standardm&#xe4;&#xdf;ig lauscht jetty nun auf Port 8080</p></div><div class="section"><h3>Mit Web-Archive (.war)<a name="Mit_Web-Archive_.war"></a></h3><p>Ein Web-Archive kann mit dem Maven Kommando <tt>mvn package</tt> gebaut werden.</p></div></div><div class="section"><h2>Installation unter SLES 11.1<a name="Installation_unter_SLES_11.1"></a></h2><div class="section"><h3>Vorbereitung<a name="Vorbereitung"></a></h3><p>Es muss ein halbwegs aktuelles Java-JDK installiert sein, dieses kann z.B. von <a class="externalLink" href="http://java.sun.com">}Oracle</a> f&#xfc;r Linux/i386 bezogen werden.</p><p>F&#xfc;r die Ausf&#xfc;hrung von dhbw-calendar wird ein neuer Benutzer, z.B. mit namen <tt>dhbwcalendar</tt> angelegt.</p><p><a class="externalLink" href="http://maven.apache.org">Maven2</a> in <tt>$HOME/share/apache-maven-2.2.1</tt> installiert.</p><p>F&#xfc;r den angelegten Benutzer wird in seiner <tt>$HOME/.profile</tt>-Datei die Umgebungsvariablen <tt>JAVA_HOME</tt> und <tt>M2_HOME</tt> auf die jeweiligen Installationspfade gesetzt.</p><p>Git kann mit dem SuSe-Tool <tt>zypper</tt> installiert werden:</p><div><pre># zypper ar \
  &quot;http://download.opensuse.org/repositories/devel:/tools:/scm/SLE_11/devel:tools:scm.repo&quot;
# zypper install git</pre></div></div><div class="section"><h3>Einrichtung<a name="Einrichtung"></a></h3><p>Das Projektverzeichnis wird mit git geklont:</p><div><pre># su -l dhbwcalendar
$ git clone ....dhbw-calendar URL...</pre></div><p>Falls jetty verwendet wird und er im produktiven Setup nur auf dem Loopback Interface lauschen soll wird das in der <tt>pom.xml</tt> konfiguriert:</p><div><pre>&lt;connectors&gt;
  &lt;connector
      implementation=&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;&gt;
    &lt;port&gt;8080&lt;/port&gt;
    &lt;host&gt;127.0.0.1&lt;/host&gt;
  &lt;/connector&gt;
&lt;/connectors&gt;</pre></div><p>Bei vaadin wird der <i>productionmode</i> im Deskriptor der Web-Applikation aktiviert:</p><div><pre>&lt;context-param&gt;
  &lt;param-name&gt;productionMode&lt;/param-name&gt;
  &lt;param-value&gt;true&lt;/param-value&gt;
  &lt;description&gt;Vaadin production mode&lt;/description&gt;
&lt;/context-param&gt;</pre></div></div><div class="section"><h3>SSL<a name="SSL"></a></h3><div class="section"><h4>Zertifikat erstellen<a name="Zertifikat_erstellen"></a></h4><p><i>Achtung:</i> Vor- Nachname ist der Common-Name = Hostname.</p><div><pre>% keytool -keystore keystore -alias jetty -genkey -keyalg RSA
Geben Sie das Keystore-Passwort ein:
Geben Sie das Passwort erneut ein:

Wie lautet Ihr Vor- und Nachname?
[Unknown]: dualical.ba-horb.de
Wie lautet der Name Ihrer organisatorischen Einheit?
[Unknown]: DHBW Stuttgart Campus Horb
Wie lautet der Name Ihrer Organisation?
[Unknown]: Duale Hochschule Baden-W&#xfc;rttemberg
Wie lautet der Name Ihrer Stadt oder Gemeinde?
[Unknown]: Horb
Wie lautet der Name Ihres Bundeslandes oder Ihrer Provinz?
[Unknown]: Baden-W&#xfc;rttemberg
Wie lautet der Landescode (zwei Buchstaben) f&#xfc;r diese Einheit?
[Unknown]: DE
Ist CN=DHBW Calendar,OU=DHBW Stuttgart Campus Horb, O=Duale Hochschule Baden-W&#xfc;rttemberg, L=Horb, ST=Baden-W&#xfc;rttemberg, C=DE richtig?
[Nein]: Ja
Geben Sie das Passwort f&#xfc;r &quot;jetty&quot; ein.
(EINGABETASTE, wenn Passwort dasselbe wie f&#xfc;r Keystore):</pre></div></div><div class="section"><h4>SSL in Jetty konfigurieren<a name="SSL_in_Jetty_konfigurieren"></a></h4><div><pre>&lt;configuration&gt;
  &lt;connectors&gt;
    &lt;connector
        implementation=&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;&gt;
      &lt;port&gt;8080&lt;/port&gt;
    &lt;/connector&gt;

    &lt;connector
        implementation=&quot;org.mortbay.jetty.ssl.SslSelectChannelConnector&quot;&gt;
      &lt;port&gt;8443&lt;/port&gt;
      &lt;keystore&gt;${basedir}/server.keystore&lt;/keystore&gt;
      &lt;keyPassword&gt;bla&lt;/keyPassword&gt;
      &lt;password&gt;bla&lt;/password&gt;
    &lt;/connector&gt;
  &lt;/connectors&gt;
&lt;/configuration&gt;
&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;
    &lt;artifactId&gt;jetty-ssl&lt;/artifactId&gt;
    &lt;version&gt;7.0.0.pre5&lt;/version&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;</pre></div></div><div class="section"><h4>Zertifikationsinfos<a name="Zertifikationsinfos"></a></h4><p>SSL-Fingerprint:</p><div><pre>
% keytool -list -keystore server.keystore -rfc
Geben Sie das Keystore-Passwort ein:
Keystore-Typ: JKS
Keystore-Provider: SUN

Ihr Keystore enth&#xe4;lt 1 Eintrag/-&#xe4;ge.

jetty, 29.03.2011, PrivateKeyEntry, Zertifikatsfingerabdruck (MD5):
B6:CA:AF:1C:8C:B7:38:38:36:2A:30:3C:A5:C2:54:20

  -----BEGIN CERTIFICATE-----
.... /Zertifikat im PEM Format/
  -----END CERTIFICATE-----</pre></div><p>Die Verbindung kann jetzt mit wget &#xfc;berpr&#xfc;ft werden</p><div><pre># wget --ca-certificate=certificate.pem \
      https://dualical.ba-horb.de:8443/dhbwcalendar/</pre></div><p>Weitere Informationen zum Zertifikat zeigt OpenSSL in Klartext an:</p><div><pre># openssl x509 -noout -text -in certificate.pem</pre></div></div></div><div class="section"><h3>Zugriff von 'aussen'<a name="Zugriff_von_aussen"></a></h3><p>Mit php und curl l&#xe4;sst sich eine reverse-Proxy nachahmen. Ein Beispiel findet sich unter: <a href="./ics.php.txt">ics.php.txt</a>.</p></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">Copyright &#169;                   2011.
          All Rights Reserved.      
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
